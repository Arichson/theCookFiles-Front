(this["webpackJsonpdeploy-me"]=this["webpackJsonpdeploy-me"]||[]).push([[0],{26:function(e,t,n){},27:function(e,t,n){},35:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n.n(r),s=n(20),a=n.n(s),o=(n(26),n(10)),i=n(3),l=(n(27),n(7)),u=n(0),b=function(e){var t=Object(r.useContext)(w),n=t.isLoggedIn,c=t.setIsLoggedIn;console.log(n);return Object(u.jsxs)("nav",{className:"flex justify-around bg-gray-500",children:[e.routes.map((function(e){var t=e.key,n=e.path;return"Login"!==t?Object(u.jsx)(l.b,{className:"hover:text-green-500",to:n,children:t},t):""})),n?Object(u.jsx)("button",{onClick:function(){window.localStorage.clear(),c(!1),console.log(window.localStorage)},className:"hover:text-green-500",children:"LogOut"}):Object(u.jsx)(l.b,{className:"hover:text-green-500",to:"/login",children:"Login"})]})},d=n(4),j=n(2),p=n.n(j),h=n(5);function m(e){var t=Object(r.useState)(!1),n=Object(i.a)(t,2),c=n[0],s=n[1],a=Object(r.useState)(""),o=Object(i.a)(a,2),l=o[0],b=o[1],d=Object(r.useState)(""),j=Object(i.a)(d,2),m=j[0],f=j[1],x=Object(r.useState)({username:"",password:"",bio:"empty",firstName:"empty",lastName:"empty",birthday:"empty",recipes:[]}),O=Object(i.a)(x,2),g=O[0],v=O[1],w=function(){var e=Object(h.a)(p.a.mark((function e(t){var n,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),v({username:l,password:m,bio:"empty",firstName:"empty",lastName:"empty",birthday:"empty",recipes:[]}),e.prev=2,e.next=5,fetch("http://localhost:8000/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(g)});case 5:return n=e.sent,e.next=8,n.json();case 8:r=e.sent,console.log(g),console.log(r),v({username:"",password:"",bio:"empty",firstName:"empty",lastName:"empty",birthday:"empty",recipes:[]}),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),console.error(e.t0);case 17:case"end":return e.stop()}}),e,null,[[2,14]])})));return function(t){return e.apply(this,arguments)}}();return Object(u.jsxs)("div",{className:"newUser",children:[Object(u.jsxs)("h1",{children:["This is the ",e.page," page"]}),Object(u.jsxs)("form",{onSubmit:function(e){w(e)},children:[Object(u.jsx)("h2",{children:"Create New User"}),Object(u.jsx)("span",{children:"Username: "}),Object(u.jsx)("input",{onChange:function(e){b(e.target.value)},type:"text",placeholder:"username"}),Object(u.jsx)("br",{}),Object(u.jsx)("span",{children:"Password: "}),Object(u.jsx)("input",{onChange:function(e){f(e.target.value)},type:c?"text":"password",placeholder:"password"}),Object(u.jsx)("p",{onClick:function(){return s(!c)},children:"Show Password"}),Object(u.jsx)("br",{}),Object(u.jsx)("input",{type:"submit"})]})]})}function f(e){var t=Object(r.useState)({vegetarian:"",vegan:"",glutenFree:"",dairyFree:"",veryHealthy:"",extendedIngredients:[{id:"",aisle:"",image:"broccoli.",consistency:"",name:"",nameClean:"",original:"",originalString:"",originalName:"",amount:"",unit:"",meta:["",""],metaInformation:["",""],measures:{us:{amount:"",unitShort:"",unitLong:""},metric:{amount:"",unitShort:"",unitLong:"s"}}}],id:"",title:"Cauliflower, Brown Rice, and Vegetable Fried Rice",readyInMinutes:"",servings:"",image:"",summary:"",instructions:"",analyzedInstructions:[{name:"",steps:[{number:1,step:'Remove the cauliflower\'s tough stem and reserve for another use. Using a food processor, pulse cauliflower florets until they resemble rice or couscous. You should end up with around four cups of "cauliflower rice."',ingredients:[{id:10011135,name:"cauliflower florets",localizedName:"cauliflower florets",image:"cauliflower.jpg"},{id:10111135,name:"cauliflower rice",localizedName:"cauliflower rice",image:"cauliflower.jpg"},{id:11135,name:"cauliflower",localizedName:"cauliflower",image:"cauliflower.jpg"},{id:20028,name:"couscous",localizedName:"couscous",image:"couscous-cooked.jpg"},{id:20444,name:"rice",localizedName:"rice",image:"uncooked-white-rice.png"}],equipment:[{id:404771,name:"food processor",localizedName:"food processor",image:"food-processor.png"}]}]}],originalId:null}),n=Object(i.a)(t,2),c=n[0],s=n[1],a=Object(r.useState)(""),o=Object(i.a)(a,2),l=o[0],b=o[1],d=e.match.params.id,j="https://api.spoonacular.com/recipes/".concat(d,"/information?apiKey=").concat("05e79b7418604da8aba290adde841452"),m=function(){var e=Object(h.a)(p.a.mark((function e(t){var n,r,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,fetch("http://localhost:8000/users/".concat(window.localStorage.getItem("username"),"/recipes"));case 4:return n=e.sent,e.next=7,n.json();case 7:r=e.sent,console.log(r),c=r.filter((function(e){return e.id===d})),console.log(c),c[0]?x(t):f(t),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=Object(h.a)(p.a.mark((function e(t){var n,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,fetch("http://localhost:8000/users/".concat(window.localStorage.getItem("username"),"/recipes"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:c.id,title:c.title,image:c.image})});case 4:return n=e.sent,e.next=7,n.json();case 7:return r=e.sent,console.log(r),e.next=11,x(t);case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),console.error(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=Object(h.a)(p.a.mark((function e(t){var n,r,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,fetch("http://localhost:8000/users/".concat(window.localStorage.getItem("username"),"/recipes"));case 4:return n=e.sent,e.next=7,n.json();case 7:r=e.sent,console.log(r),c=r.filter((function(e){return e.id===d})),b(c[0]._id),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t){return e.apply(this,arguments)}}(),O=function(){var e=Object(h.a)(p.a.mark((function e(t){var n,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("http://localhost:8000/users/".concat(window.localStorage.getItem("username"),"/recipes/").concat(l),{method:"POST",headers:{"Content-Type":"application/json"}});case 3:return n=e.sent,e.next=6,n.json();case 6:r=e.sent,console.log(r),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=Object(h.a)(p.a.mark((function e(){var t,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(j);case 3:return t=e.sent,e.next=6,t.json();case 6:n=e.sent,s(n),console.log("Fetched"),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){g()}),[e]),Object(r.useEffect)((function(){l.split("").length>0&&O()}),[l]),Object(u.jsx)("div",{className:"m-10",children:Object(u.jsxs)("div",{className:"recipe",children:[Object(u.jsx)("h1",{className:"text-3xl text-center",children:c.title}),Object(u.jsxs)("div",{className:"flex justify-between w-full mt-4 mb-4 h-full",children:[Object(u.jsx)("img",{className:"w-6/12 border-2 border-black",src:c.image,alt:c.title+" picture"}),Object(u.jsxs)("span",{className:"text-left w-4/12 flex flex-col justify-center text-center align-center content-center",children:[Object(u.jsxs)("h3",{className:"h-.5",children:["Cooktime: ",Object(u.jsx)("b",{children:c.readyInMinutes})," minutes"]}),c.servings?Object(u.jsxs)("h3",{className:"h-.5",children:["Serving: ",Object(u.jsx)("b",{children:c.servings})]}):"",Object(u.jsxs)("h3",{children:["Vegetarian: ",Object(u.jsx)("b",{children:c.vegetarian?"yes":"no"})]}),Object(u.jsxs)("h3",{children:["Vegan: ",Object(u.jsx)("b",{children:c.vegan?"yes":"no"})]}),Object(u.jsxs)("h3",{children:["Gluten Free: ",Object(u.jsx)("b",{children:c.glutenFree?"yes":"no"})]}),Object(u.jsxs)("h3",{children:["Dairy Free: ",Object(u.jsx)("b",{children:c.dairyFree?"yes":"no"})]})]}),Object(u.jsx)("button",{className:"h-.5 w-2/12 border-black ",onClick:m,children:"Add to list"})]}),Object(u.jsxs)("div",{className:"border-2 border-black",children:[Object(u.jsx)("h4",{className:"text-center ml-2 mr-2 mb-2 text-lg",children:"Summary"}),Object(u.jsx)("p",{className:"ml-2 mr-2 mb-2",children:c.summary.replace(/(<([^>]+)>)/gi,"")})]}),Object(u.jsxs)("ul",{className:"mt-4 border-2 border-black mb-2",children:[Object(u.jsx)("p",{className:"text-center mb-4 ml-2 mr-2 text-lg",children:"Ingredients"}),c.extendedIngredients.map((function(e,t){return Object(u.jsx)("li",{className:"mb-2 ml-2 mr-2",children:Object(u.jsxs)("p",{children:[Object(u.jsx)("span",{children:Object(u.jsx)("b",{children:e.name+": "})}),e.originalString]})},t)}))]}),Object(u.jsxs)("div",{className:"border-2 border-black",children:[Object(u.jsx)("h4",{className:"text-center ml-2 mr-2 mb-2 text-lg",children:"Steps"}),Object(u.jsx)("ol",{children:c.analyzedInstructions.map((function(e,t){return Object(u.jsx)("li",{children:e.steps.map((function(e,t){return Object(u.jsxs)("p",{className:"mb-2 ml-2 mr-2",children:[Object(u.jsxs)("b",{children:[t+1,"."]})," ",e.step]},t)}))},t)}))})]})]})})}function x(e){var t=e.recipe,n=e.userInfo,c=e.setSavedRecipes,s=Object(r.useState)(t),a=Object(i.a)(s,2),b=a[0],d=a[1],j=Object(r.useState)(n),m=Object(i.a)(j,2),f=m[0],x=m[1],O=function(){var e=Object(h.a)(p.a.mark((function e(t,n){var r,s,a,i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),r=[],f.recipes.forEach((function(e){e._id===n?console.log("skipped "+n):r.push(e)})),console.log(r),s=Object(o.a)(Object(o.a)({},f),{},{recipes:r}),console.log(s),e.prev=6,e.next=9,fetch("http://localhost:8000/users/".concat(f._id),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer "+window.localStorage.getItem("token")},body:JSON.stringify(s)});case 9:a=e.sent,i=a.json(),console.log(i),d(r),x(s),c(r),console.log(f),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(6),console.error(e.t0);case 21:case"end":return e.stop()}}),e,null,[[6,18]])})));return function(t,n){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){d(t),x(n)}),[t]),Object(u.jsxs)("li",{className:"eachRecipe",children:[Object(u.jsx)("button",{className:"w-6 h-6 border-black border-2 flex items-center justify-center absolute bg-gray-100 rounded hover:bg-red-300",onClick:function(e){O(e,t._id)},children:"X"}),Object(u.jsx)(l.b,{to:"/"+b.id,className:"w-60 h-60 bg-cover flex items-end bg-no-repeat border-black border-2 box-border m-2 rounded",style:{backgroundImage:"url(".concat(b.image,")")},children:Object(u.jsx)("p",{className:"text-center flex items-center align-center w-full static bottom-0 bg-white bg-opacity-50 align-middle justify-center h-20 border-t-2 border-black",children:b.title})})]})}function O(e){var t=e.userInfo,n=Object(r.useState)([{id:"716426",image:"https://spoonacular.com/recipeImages/716426-312x231.jpg",title:"Cauliflower, Brown Rice, and Vegetable Fried Rice",_id:"609c64f55b306922352a6b0c"}]),c=Object(i.a)(n,2),s=c[0],a=c[1];return Object(r.useEffect)((function(){a(t.recipes)}),[t]),Object(u.jsx)("div",{children:s?s.length>0?Object(u.jsx)("ul",{className:"flex flex-wrap justify-around items-stretch w-full h-full",children:s.map((function(e,n){return Object(u.jsx)(x,{userInfo:t,recipe:e,setSavedRecipes:a},n)}))}):Object(u.jsx)("p",{children:"You have no items saved"}):Object(u.jsx)("p",{children:"Loading"})})}var g=n(13);function v(e){var t=e.userInfo,n=Object(r.useState)(null),c=Object(i.a)(n,2),s=c[0],a=c[1],l=Object(r.useState)(!1),b=Object(i.a)(l,2),d=b[0],j=b[1],m=function(){var e=Object(h.a)(p.a.mark((function e(t){var n,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("http://localhost:8000/users/".concat(s._id),{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")}});case 3:return n=e.sent,e.next=6,n.json();case 6:r=e.sent,console.log(r),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=Object(h.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("http://localhost:8000/users/".concat(s._id),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer "+window.localStorage.getItem("token")},body:JSON.stringify(s)});case 3:n=e.sent,n.json(),console.log(s),a(s),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),x=function(e){a(Object(o.a)(Object(o.a)({},s),{},Object(g.a)({},e.target.name,e.target.value))),console.log(s)};return Object(r.useEffect)((function(){a(t)}),[t]),Object(u.jsx)("div",{className:"m-5 border-black border-2 p-2 rounded",children:s?Object(u.jsxs)("div",{children:[Object(u.jsxs)("div",{className:"flex justtify-between w-full",children:[Object(u.jsx)("button",{className:"w-20 bg-gray-500 border-2 border-black rounded mr-28",onClick:function(){return j(!d)},children:d?"Cancel":"Edit"}),d?Object(u.jsx)("button",{className:"w-20 bg-gray-500 border-2 border-black rounded flex-inline justify-end",onClick:m,children:"Delete Account"}):""]}),d?Object(u.jsx)("div",{children:Object(u.jsxs)("form",{onSubmit:f,children:["User Name: ",Object(u.jsx)("input",{type:"text",name:"username",onChange:x,defaultValue:t.username,className:"border-blue border-2 p-1 rounded"})," ",Object(u.jsx)("br",{})," ",Object(u.jsx)("br",{}),"First Name: ",Object(u.jsx)("input",{type:"text",name:"firstName",onChange:x,defaultValue:t.firstName,className:"border-blue border-2 p-1 rounded"})," ",Object(u.jsx)("br",{})," ",Object(u.jsx)("br",{}),"Last Name: ",Object(u.jsx)("input",{type:"text",name:"lastName",onChange:x,defaultValue:t.lastName,className:"border-blue border-2 p-1 rounded"})," ",Object(u.jsx)("br",{})," ",Object(u.jsx)("br",{}),"Birthdate: ",Object(u.jsx)("input",{type:"text",name:"birthday",onChange:x,defaultValue:t.birthday,className:"border-blue border-2 p-1 rounded"})," ",Object(u.jsx)("br",{})," ",Object(u.jsx)("br",{}),Object(u.jsx)("p",{children:"About Me:"}),Object(u.jsx)("textarea",{name:"bio",onChange:x,defaultValue:t.bio,className:"border-blue border-2 p-1 rounded w-2/5 h-40"})," ",Object(u.jsx)("br",{})," ",Object(u.jsx)("br",{}),Object(u.jsx)("input",{className:"w-20 bg-gray-500 border-2 border-black rounded",type:"submit"})]})}):Object(u.jsxs)("div",{children:[Object(u.jsxs)("p",{children:["User Name: ",t.username]}),Object(u.jsxs)("p",{children:["First Name: ",t.firstName]}),Object(u.jsxs)("p",{children:["Last Name: ",t.lastName]}),Object(u.jsxs)("p",{children:["Birthdate: ",t.birthday]}),Object(u.jsxs)("p",{className:"border-black border-2 p-2 rounded",children:["About Me: ",t.bio]})]})]}):Object(u.jsx)("p",{children:"loading"})})}var w=c.a.createContext(),y=[{Component:function(e){for(var t=Object(r.useState)({results:[{id:716426,title:"",image:""}]}),n=Object(i.a)(t,2),c=n[0],s=n[1],a=Object(r.useState)(20),o=Object(i.a)(a,2),b=o[0],d=o[1],j=Object(r.useState)(0),m=Object(i.a)(j,2),f=m[0],x=m[1],O=b*f,g=function(){var e=Object(h.a)(p.a.mark((function e(){var t,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://api.spoonacular.com/recipes/complexSearch?apiKey=".concat("05e79b7418604da8aba290adde841452","&number=").concat(b,"&offset=").concat(O>900?900:O));case 3:return t=e.sent,e.next=6,t.json();case 6:n=e.sent,s(n),console.log("Fetched"),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),v=[],w=0;w<Math.ceil(1e3/b);w++)v.push(w);return Object(r.useEffect)((function(){g()}),[]),Object(r.useEffect)((function(){g()}),[b]),Object(r.useEffect)((function(){g()}),[f]),Object(u.jsxs)("div",{className:"HomePage",children:[Object(u.jsxs)("h1",{children:["Welcome ",Object(u.jsxs)("b",{children:[window.localStorage.username?window.localStorage.username:"guest"," "]})]}),Object(u.jsx)("ul",{className:"flex flex-wrap justify-around items-stretch w-full",children:v.map((function(e){return Object(u.jsxs)("li",{className:"w-20 text-center",onClick:function(){return x(e)},children:["Page ",e+1," "]},e)}))}),Object(u.jsxs)("div",{className:"border-b-2 border-t-2 border-black",children:[Object(u.jsx)("button",{className:"border-2 border-black m-2 w-32 rounded",onClick:function(){return d(20)},children:"Show 20 items"}),Object(u.jsx)("button",{className:"border-2 border-black m-2 w-32 rounded",onClick:function(){return d(40)},children:"Show 40 items"}),Object(u.jsx)("button",{className:"border-2 border-black m-2 w-32 rounded",onClick:function(){return d(60)},children:"Show 60 items"}),Object(u.jsx)("button",{className:"border-2 border-black m-2 w-32 rounded",onClick:function(){return d(80)},children:"Show 80 items"}),Object(u.jsx)("button",{className:"border-2 border-black m-2 w-32 rounded",onClick:function(){return d(100)},children:"Show 100 items"}),Object(u.jsxs)("p",{className:"m-full text-center",children:[Object(u.jsxs)("span",{children:["Page ",f+1+" "]})," | ",Object(u.jsxs)("span",{children:["Showing ",b," of ",1e3," items"]})]})]}),Object(u.jsx)("div",{className:"flex flex-wrap justify-around items-stretch w-full h-full",children:c.results.map((function(e,t){return Object(u.jsx)("li",{className:"flex  flex-wrap justify-around items-stretch w-60 h-60 m-1",children:Object(u.jsx)(l.b,{to:"/"+e.id,className:"w-60 h-60 bg-cover flex items-end bg-no-repeat border-black border-2 box-border rounded m-2",style:{backgroundImage:"url(".concat(e.image,")")},children:Object(u.jsx)("p",{className:"text-center flex items-center align-center w-full static bottom-0 bg-white bg-opacity-50 align-middle justify-center h-20 border-t-2 border-black",children:e.title})})},t)}))})]})},key:"Home",path:"/"},{Component:function(e){return Object(u.jsxs)("div",{className:"ContactPage",children:["This is the ",e.page," page"]})},key:"Contact",path:"/contact"},{Component:function(e){return Object(u.jsxs)("div",{className:"text-center h-9 w-50",children:["This is the ",e.page," page"]})},key:"About",path:"/about"},{Component:function(){var e=Object(r.useContext)(w),t=e.isLoggedIn,n=(e.setIsLoggedIn,Object(r.useState)({})),c=Object(i.a)(n,2),s=c[0],a=c[1],o=function(){var e=Object(h.a)(p.a.mark((function e(){var t,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("http://localhost:8000/users/".concat(window.localStorage.getItem("username")),{method:"GET",headers:{"Content-Type":"application/json"}});case 3:return t=e.sent,e.next=6,t.json();case 6:n=e.sent,a(n),console.log(n.recipes),console.log(s),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){o()}),[]),Object(u.jsx)("div",{children:t?Object(u.jsxs)("div",{children:[Object(u.jsx)(v,{userInfo:s}),Object(u.jsx)(O,{userInfo:s})]}):Object(u.jsxs)("div",{children:["Login to view your saved recipes.",Object(u.jsx)(l.b,{to:"/login",children:"Login"})]})})},key:"UsersPage",path:"/users"},{Component:function(e){var t=Object(d.f)(),n=Object(r.useContext)(w),c=(n.isLoggedIn,n.setIsLoggedIn),s=Object(r.useState)(!1),a=Object(i.a)(s,2),b=a[0],j=a[1],m=Object(r.useState)(""),f=Object(i.a)(m,2),x=f[0],O=f[1],v=Object(r.useState)({username:"",password:""}),y=Object(i.a)(v,2),N=y[0],k=y[1],S=function(){var e=Object(h.a)(p.a.mark((function e(t){var n,r,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,fetch("http://localhost:8000/users");case 4:return n=e.sent,e.next=7,n.json();case 7:r=e.sent,console.log(r),c=r.filter((function(e){return e.username===N.username})),console.log(c),c[0]?C(t):O("The User Name or Password is incorrect."),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),console.error(e.t0);case 17:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(t){return e.apply(this,arguments)}}(),C=function(){var e=Object(h.a)(p.a.mark((function e(n){var r,s;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,e.next=4,fetch("http://localhost:8000/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Object(o.a)({},N))});case 4:return r=e.sent,e.next=7,r.json();case 7:s=e.sent,console.log(s),s.token&&(window.localStorage.setItem("token",s.token),window.localStorage.setItem("username",s.username),window.localStorage.setItem("id",s.id),c(!0),console.log(window.localStorage),t.push("/")),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),console.error(e.t0);case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}(),I=function(e){k(Object(o.a)(Object(o.a)({},N),{},Object(g.a)({},e.target.name,e.target.value))),console.log(N)};return Object(u.jsxs)("div",{className:"Login",children:[Object(u.jsxs)("h1",{children:["This is the ",e.page," page"]}),Object(u.jsxs)("form",{onSubmit:S,children:[Object(u.jsx)("h2",{children:"Login"}),Object(u.jsx)("div",{children:x}),Object(u.jsx)("span",{children:"Username: "}),Object(u.jsx)("input",{onChange:I,type:"text",placeholder:"username",name:"username"}),Object(u.jsx)("br",{}),Object(u.jsx)("span",{children:"Password: "}),Object(u.jsx)("input",{onChange:I,type:b?"text":"password",placeholder:"password",name:"password"}),Object(u.jsx)("p",{onClick:function(){return j(!b)},children:"Show Password"}),Object(u.jsx)("br",{}),Object(u.jsx)("input",{type:"submit"})]}),Object(u.jsx)("p",{children:"Don't have an account? "}),Object(u.jsx)(l.b,{to:"/createUser",children:"Create new user?"})]})},key:"Login",path:"/login"}];function N(){var e=Object(r.useState)(!1),t=Object(i.a)(e,2),n=t[0],c=t[1];return Object(r.useEffect)((function(){localStorage.getItem("token")&&c(!0)}),[]),Object(u.jsx)(w.Provider,{value:{isLoggedIn:n,setIsLoggedIn:c},children:Object(u.jsxs)(l.a,{children:[Object(u.jsx)(b,{routes:y}),Object(u.jsxs)(d.c,{children:[y.map((function(e){var t=e.Component,n=e.key,r=e.path;return Object(u.jsx)(d.a,{path:r,exact:!0,component:function(){return Object(u.jsx)(t,{page:n})}},n)})),Object(u.jsx)(d.a,{path:"/createUser",exact:!0,render:function(){return Object(u.jsx)(m,{})}}),Object(u.jsx)(d.a,{path:"/:id",render:function(e){return Object(u.jsx)(f,Object(o.a)({},e))}})]})]})})}var k=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,36)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,s=t.getLCP,a=t.getTTFB;n(e),r(e),c(e),s(e),a(e)}))};a.a.render(Object(u.jsx)(c.a.StrictMode,{children:Object(u.jsx)(N,{})}),document.getElementById("root")),k()}},[[35,1,2]]]);
//# sourceMappingURL=main.133cc04a.chunk.js.map